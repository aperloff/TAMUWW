==============================================================
This is the explanation of the file LimitsDatacard.cxx which is a copy of the original John Massey had named read_from_file_3_new.cxx

John had all this in the directory
~jmyjk17/cmsdas2013/CMSSW_6_1_1/src/StatisticalTools/RooStatsRoutines/test/troubleshoot/

The StatisticalTools/RooStatsRoutines he dowloaded according to the excercise in CMSDAS2013 which is at the link 
https://twiki.cern.ch/twiki/bin/viewauth/CMS/SWGuideCMSDataAnalysisSchoolStatisticsFall2012

The file reads the histos_electron.root created by the plotter and performs either limits or significance computations.

The exact commands he used are described in the website above,
> root read_from_file_3_new.cxx+ # would spit out the text file
> combine -M ProfileLikelihood -t 495 histos_electron_datacard.txt 

to change the seed add "-s <seednumber>"
> combine -s <seednumber>

to change the number of systematics add "-S <numberofsystematic>"
> combine blah -S <numberofsystematic>

to find significance add "--significance"
> combine blah --significance 

to get some help do
> combine --help

==============================================================
The code used to create the datacards should be modified in the following ways:

First, when modifying the name of the file, be sure to change the name of the function included in Line (Ln) 18.

In Ln 20, the .root file name should be modified for where the process values and shapes come from, in the example "histos_electron.root"

The two vectors, for the signal and background processes are created in Ln 23 and 31 (in the example), respectively. 

Below the two vectors, add each signal process name (ex. "Mlvjj_ggH125_electron") to the signal vector (Ln 26), and the background process to the background vector (Ln 34 in the example).

Change the name to the outfile to name the datacard ("histos_electron_datacard.txt" in Ln 49).

Ln 52 - 64 describe imax (the number of bins to be used, default is 1), jmax (the number of total processes minus 1), and kmax (the number of systematic errors, default is 1).

Ln 66 - 72 include the 'shapes' input. For Ln 67 rewrite the line as "shapes data_obs * [insert .root file name] [insert name of data file]". In Ln 70 include "shapes * * [insert .root file name] $PROCESS".

Ln 75, change "channel1" to whatever channel description suits the experiment.

Ln 77 - 78 take the data_obs, integrate it, and include the integral as the "observation".

Ln 82 - 89 repeat the bin name as many times as the amount of processes, templated as "bin channel1 channel1 [...] channel1"

Ln 95 - 111 draw the names of each process from the vectors specified in Ln 23 and Ln 31, first signal names, then background names.
The template is "process Mlvjj_ggH125_electron Mlvjj_qqH125_electron [...] Mlvjj_WJets_electron".

Ln 117 - 131 print a numerical ID for each process, negative integers and zero for signal processes, and positive integers for background processes. Again, signal IDs come first, then background IDs.
The template is "process 0 -1 -2 1 2 3 [...] 13".

Ln 135 - 163 produce the rates that accompany each process. The rates are created by drawing each process from the signal and background vectors and integrating them. Signal rates precede background rates and are typically smaller in numerical value.
The template is "rate 308.186 41.2925 55.0948 [...] 13996.6 538607 2.12858e+06".

Ln 169 - 177 luminosity systematic (valued at 1.045) was added to each process. Other systematics could be added into the code but for complicated or varying systematics, it might be easier to add them to the finished code by hand.
The template is "lumi lnN 1.045 1.045 [...] 1.045".

To create a card with multiple bins (independant channels), create multiple cards described above and input the following command:
"combineCards.py [first channel name]=[first card name] [second channel name]=[second card name] [...] [Nth channel name]=[Nth card name] > [name of combined card]".

